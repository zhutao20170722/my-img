<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥å†…äº¤æ˜“ç³»ç»Ÿ - Day Trading System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š æ—¥å†…äº¤æ˜“ç³»ç»Ÿ Dashboard</h1>
            <p>Day Trading System - Web Interface</p>
        </header>

        <div class="main-content">
            <!-- Engine Control Panel -->
            <section class="panel">
                <h2>ğŸ® å¼•æ“æ§åˆ¶ / Engine Control</h2>
                <div class="controls">
                    <button id="initEngine" class="btn btn-primary">åˆå§‹åŒ–å¼•æ“ / Initialize</button>
                    <button id="startEngine" class="btn btn-success" disabled>å¯åŠ¨ / Start</button>
                    <button id="stopEngine" class="btn btn-danger" disabled>åœæ­¢ / Stop</button>
                    <span id="engineStatus" class="status">æœªåˆå§‹åŒ– / Not Initialized</span>
                </div>
            </section>

            <!-- Platform Connection -->
            <section class="panel">
                <h2>ğŸ”Œ å¹³å°è¿æ¥ / Platform Connection</h2>
                <div class="controls">
                    <select id="platformSelect">
                        <option value="">é€‰æ‹©å¹³å° / Select Platform</option>
                        <option value="mt5">MetaTrader 5 (MT5)</option>
                        <option value="ib">Interactive Brokers (IB)</option>
                    </select>
                    <button id="connectPlatform" class="btn btn-primary">è¿æ¥ / Connect</button>
                    <button id="disconnectPlatform" class="btn btn-secondary" disabled>æ–­å¼€ / Disconnect</button>
                    <span id="connectionStatus" class="status">æœªè¿æ¥ / Not Connected</span>
                </div>
            </section>

            <!-- Account Summary -->
            <section class="panel">
                <h2>ğŸ’° è´¦æˆ·æ¦‚è§ˆ / Account Summary</h2>
                <div class="account-grid">
                    <div class="stat-card">
                        <div class="stat-label">åˆå§‹èµ„é‡‘ / Initial Capital</div>
                        <div id="initialCapital" class="stat-value">Â¥0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ç°é‡‘ä½™é¢ / Cash</div>
                        <div id="cash" class="stat-value">Â¥0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ç»„åˆä»·å€¼ / Portfolio Value</div>
                        <div id="portfolioValue" class="stat-value">Â¥0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æ€»ç›ˆäº / Total P&L</div>
                        <div id="totalPnl" class="stat-value pnl">Â¥0.00</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æŒä»“æ•° / Positions</div>
                        <div id="positionsCount" class="stat-value">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æ€»äº¤æ˜“ / Total Trades</div>
                        <div id="totalTrades" class="stat-value">0</div>
                    </div>
                </div>
            </section>

            <!-- Strategy Management -->
            <section class="panel">
                <h2>ğŸ¯ ç­–ç•¥ç®¡ç† / Strategy Management</h2>
                <div class="controls">
                    <select id="strategyType">
                        <option value="">é€‰æ‹©ç­–ç•¥ / Select Strategy</option>
                        <option value="momentum">åŠ¨é‡ç­–ç•¥ / Momentum</option>
                        <option value="mean_reversion">å‡å€¼å›å½’ / Mean Reversion</option>
                    </select>
                    <button id="addStrategy" class="btn btn-primary">æ·»åŠ ç­–ç•¥ / Add Strategy</button>
                </div>
                <div id="strategiesList" class="strategies-list">
                    <p class="empty-message">æš‚æ— ç­–ç•¥ / No strategies added</p>
                </div>
            </section>

            <!-- Positions -->
            <section class="panel">
                <h2>ğŸ“‹ å½“å‰æŒä»“ / Current Positions</h2>
                <div id="positionsTable" class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>è‚¡ç¥¨ / Symbol</th>
                                <th>æ•°é‡ / Quantity</th>
                                <th>æˆæœ¬ / Avg Cost</th>
                                <th>ç°ä»· / Current</th>
                                <th>å¸‚å€¼ / Value</th>
                                <th>ç›ˆäº / P&L</th>
                            </tr>
                        </thead>
                        <tbody id="positionsBody">
                            <tr>
                                <td colspan="6" class="empty-message">æš‚æ— æŒä»“ / No positions</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Backtest Results -->
            <section class="panel">
                <h2>ğŸ“Š å›æµ‹ç»“æœ / Backtest Results</h2>
                <button id="refreshBacktest" class="btn btn-primary">åˆ·æ–°ç»“æœ / Refresh Results</button>
                <div id="backtestResults" class="backtest-results">
                    <p class="empty-message">ç‚¹å‡»åˆ·æ–°æŒ‰é’®è·å–å›æµ‹ç»“æœ / Click refresh to get backtest results</p>
                </div>
            </section>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
